{"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/index.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":36}},"7":{"start":{"line":10,"column":17},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":15},"end":{"line":11,"column":34}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":41}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"12":{"start":{"line":15,"column":0},"end":{"line":17,"column":3}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":74}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":36},"end":{"line":15,"column":37}},"loc":{"start":{"line":15,"column":42},"end":{"line":17,"column":1}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":3,"1":1},"b":{"0":[1,1,1],"1":[0,3],"2":[3,3]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/index.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/index.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gDAAwB;AACxB,8DAAqC;AACrC,qCAAgC;AAChC,qCAA+B;AAE/B,MAAM,MAAM,GAAG,iBAAO,EAAE,CAAC;AAEzB,MAAM,CAAC,GAAG,CAAC,CAAC,cAAI,EAAE,CAAC,CAAC,CAAC;AACrB,MAAM,CAAC,GAAG,CAAC,qBAAU,CAAC,IAAI,EAAE,CAAC,CAAC;AAC9B,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,eAAM,CAAC,CAAA;AAEvB,MAAM,CAAC,MAAM,CAAC,eAAM,CAAC,IAAI,EAAE,GAAG,EAAE;IAC9B,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,eAAM,CAAC,IAAI,CAAC,CAAC;AAC/D,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport bodyparser from 'body-parser';\nimport {config} from './config';\nimport {router} from './routes'\n\nconst server = express();\n\nserver.use((cors()));\nserver.use(bodyparser.json());\nserver.use('/', router)\n\nserver.listen(config.port, () => {\n  console.log('Express server listening on port', config.port);\n});\n\nexport default server;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ed4a4ddb03680d944584b07d018e2b71e343bce2","contentHash":"15e551983b67e4d9cf71f55125f03fdd6b2789d41a29108ffed5d02e24607faf"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/config/index.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/config/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"6":{"start":{"line":9,"column":15},"end":{"line":15,"column":1}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":34}},"type":"binary-expr","locations":[{"start":{"line":10,"column":10},"end":{"line":10,"column":26}},{"start":{"line":10,"column":30},"end":{"line":10,"column":34}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/config/index.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/config/index.ts"],"names":[],"mappings":";;;;;;AAAA,oDAA4B;AAC5B,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAM,MAAM,GAAG;IACX,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI;IAC9B,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;IACpC,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB;IAC9C,YAAY,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAC7C,iBAAiB,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ;CAC1C,CAAC;AAEM,wBAAM","sourcesContent":["import dotenv from 'dotenv';\ndotenv.config();\n\nconst config = {\n    port: process.env.PORT || 8080,\n    mongodb_url: process.env.MONGODB_URI,\n    test_mongodb_url: process.env.TEST_MONGODB_URI,\n    access_token: process.env.ACCESS_TOKEN_SECRET,\n    environment_check: process.env.NODE_ENV\n};\n\nexport {config}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df75c555bac283fb3380a4d64c653683cab6573c","contentHash":"80aa01e094447aa7a91d04dd6a1028c3d56f9bacbfbc4e1c011b224d64e7f447"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/index.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}},"7":{"start":{"line":10,"column":28},"end":{"line":10,"column":75}},"8":{"start":{"line":11,"column":28},"end":{"line":11,"column":88}},"9":{"start":{"line":12,"column":25},"end":{"line":12,"column":82}},"10":{"start":{"line":13,"column":27},"end":{"line":13,"column":86}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":53}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":89}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":60}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":63}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":94}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":95}},"17":{"start":{"line":23,"column":0},"end":{"line":23,"column":68}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1},"f":{"0":5},"b":{"0":[1,1,1],"1":[4,1],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/index.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/index.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAE9B,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAoBxB,wBAAM;AAlBd,4EAAoD;AACpD,yFAAiE;AACjE,mFAA2D;AAC3D,uFAA+D;AAE/D,eAAe;AACf,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,wBAAc,CAAC,KAAK,CAAC,CAAC;AAE3C,iBAAiB;AACjB,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,2BAAiB,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;AACrE,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;AAClD,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;AACrD,MAAM,CAAC,KAAK,CAAC,cAAc,EAAE,2BAAiB,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;AAC1E,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,2BAAiB,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;AAE3E,gBAAgB;AAChB,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,0BAAgB,CAAC,MAAM,CAAC,CAAC","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport authenticateToken from './authenticateToken';\nimport RecipesController from '../controllers/RecipesController';\nimport UserController from '../controllers/UserController';\nimport RatingController from '../controllers/RatingController';\n\n//  user routes\nrouter.get('/login', UserController.login);\n\n// recipes routes\nrouter.post('/recipes', authenticateToken, RecipesController.create);\nrouter.get('/recipes/', RecipesController.getAll);\nrouter.get('/recipes/:id', RecipesController.getOne);\nrouter.patch('/recipes/:id', authenticateToken, RecipesController.update);\nrouter.delete('/recipes/:id', authenticateToken, RecipesController.delete);\n\n// rating routes\nrouter.post('/recipes/:id/rate', RatingController.create);\n\nexport {router};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61a26472c90fe4f6c5c0792089f91a0fbe57ce41","contentHash":"68a0746da7f4166f7df3763cc957807a7d613830c43b8ee6f92506d078a956c9"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/authenticateToken.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/authenticateToken.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":63}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":37}},"5":{"start":{"line":9,"column":23},"end":{"line":9,"column":48}},"6":{"start":{"line":10,"column":18},"end":{"line":10,"column":56}},"7":{"start":{"line":11,"column":4},"end":{"line":12,"column":35}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":35}},"9":{"start":{"line":13,"column":4},"end":{"line":21,"column":7}},"10":{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},"11":{"start":{"line":15,"column":12},"end":{"line":17,"column":15}},"12":{"start":{"line":20,"column":8},"end":{"line":20,"column":15}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"authenticateToken","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":26}},"loc":{"start":{"line":8,"column":43},"end":{"line":22,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":71},"end":{"line":13,"column":72}},"loc":{"start":{"line":13,"column":88},"end":{"line":21,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":56}},"type":"binary-expr","locations":[{"start":{"line":10,"column":18},"end":{"line":10,"column":28}},{"start":{"line":10,"column":32},"end":{"line":10,"column":56}}],"line":10},"4":{"loc":{"start":{"line":11,"column":4},"end":{"line":12,"column":35}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":12,"column":35}},{"start":{"line":11,"column":4},"end":{"line":12,"column":35}}],"line":11},"5":{"loc":{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},{"start":{"line":14,"column":8},"end":{"line":18,"column":9}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":13,"6":13,"7":13,"8":0,"9":13,"10":13,"11":3,"12":10,"13":1},"f":{"0":1,"1":13,"2":13},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[13,13],"4":[0,13],"5":[3,10]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/authenticateToken.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/routes/authenticateToken.ts"],"names":[],"mappings":";;;;;AAEA,gEAA+B;AAC/B,sCAAiC;AAEjC,SAAS,iBAAiB,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IACxE,MAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;IAC7C,MAAM,KAAK,GAAG,UAAU,IAAI,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,IAAI,KAAK,IAAI,IAAI;QAAE,OAAO,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC9C,sBAAG,CAAC,MAAM,CAAC,KAAK,EAAU,eAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;QAC7D,IAAI,GAAG,EAAE;YACP,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,cAAc;aACxB,CAAC,CAAC;SACJ;QACD,qBAAqB;QACrB,IAAI,EAAE,CAAC;IACT,CAAC,CAAC,CAAC;AACL,CAAC;AACD,sCAAsC;AACtC,kBAAe,iBAAiB,CAAC","sourcesContent":["/* eslint-disable consistent-return */\nimport {Request, Response, NextFunction} from 'express';\nimport jwt from 'jsonwebtoken';\nimport {config} from '../config';\n\nfunction authenticateToken(req: Request, res: Response, next: NextFunction) {\n  const authHeader = req.headers.authorization;\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.sendStatus(401);\n  jwt.verify(token, <string>config.access_token, (err, recipe) => {\n    if (err) {\n      return res.status(403).send({\n        message: 'Unauthorized',\n      });\n    }\n    // req.user = recipe;\n    next();\n  });\n}\n// module.exports = authenticateToken;\nexport default authenticateToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cf4e0c33d6c64f121fe9780f6b7e0e7411014dd2","contentHash":"d399d9b61fb4f867fb6e882f313ebeb836447b7d564e6fca1d42bf4f57823927"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RecipesController.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RecipesController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":74}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":36}},"17":{"start":{"line":17,"column":26},"end":{"line":220,"column":1}},"18":{"start":{"line":19,"column":26},"end":{"line":67,"column":6}},"19":{"start":{"line":20,"column":8},"end":{"line":66,"column":9}},"20":{"start":{"line":21,"column":27},"end":{"line":21,"column":67}},"21":{"start":{"line":22,"column":26},"end":{"line":22,"column":78}},"22":{"start":{"line":23,"column":25},"end":{"line":23,"column":74}},"23":{"start":{"line":24,"column":31},"end":{"line":24,"column":49}},"24":{"start":{"line":25,"column":29},"end":{"line":25,"column":41}},"25":{"start":{"line":26,"column":33},"end":{"line":26,"column":66}},"26":{"start":{"line":27,"column":23},"end":{"line":30,"column":13}},"27":{"start":{"line":31,"column":27},"end":{"line":34,"column":13}},"28":{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},"29":{"start":{"line":36,"column":16},"end":{"line":39,"column":18}},"30":{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},"31":{"start":{"line":42,"column":16},"end":{"line":45,"column":18}},"32":{"start":{"line":47,"column":28},"end":{"line":47,"column":89}},"33":{"start":{"line":48,"column":31},"end":{"line":51,"column":13}},"34":{"start":{"line":52,"column":25},"end":{"line":55,"column":13}},"35":{"start":{"line":56,"column":12},"end":{"line":59,"column":15}},"36":{"start":{"line":62,"column":12},"end":{"line":65,"column":15}},"37":{"start":{"line":69,"column":26},"end":{"line":118,"column":6}},"38":{"start":{"line":70,"column":8},"end":{"line":117,"column":9}},"39":{"start":{"line":72,"column":54},"end":{"line":72,"column":62}},"40":{"start":{"line":74,"column":12},"end":{"line":79,"column":13}},"41":{"start":{"line":75,"column":16},"end":{"line":78,"column":19}},"42":{"start":{"line":81,"column":12},"end":{"line":86,"column":13}},"43":{"start":{"line":82,"column":16},"end":{"line":85,"column":19}},"44":{"start":{"line":88,"column":12},"end":{"line":93,"column":13}},"45":{"start":{"line":89,"column":16},"end":{"line":92,"column":19}},"46":{"start":{"line":94,"column":34},"end":{"line":98,"column":13}},"47":{"start":{"line":100,"column":28},"end":{"line":100,"column":78}},"48":{"start":{"line":101,"column":12},"end":{"line":106,"column":13}},"49":{"start":{"line":102,"column":16},"end":{"line":105,"column":19}},"50":{"start":{"line":107,"column":12},"end":{"line":110,"column":15}},"51":{"start":{"line":113,"column":12},"end":{"line":116,"column":15}},"52":{"start":{"line":120,"column":26},"end":{"line":141,"column":6}},"53":{"start":{"line":121,"column":8},"end":{"line":140,"column":9}},"54":{"start":{"line":122,"column":23},"end":{"line":122,"column":60}},"55":{"start":{"line":124,"column":28},"end":{"line":124,"column":65}},"56":{"start":{"line":125,"column":12},"end":{"line":130,"column":13}},"57":{"start":{"line":126,"column":16},"end":{"line":129,"column":19}},"58":{"start":{"line":131,"column":12},"end":{"line":134,"column":15}},"59":{"start":{"line":137,"column":12},"end":{"line":139,"column":15}},"60":{"start":{"line":143,"column":26},"end":{"line":193,"column":6}},"61":{"start":{"line":144,"column":8},"end":{"line":192,"column":9}},"62":{"start":{"line":146,"column":12},"end":{"line":153,"column":13}},"63":{"start":{"line":147,"column":16},"end":{"line":152,"column":17}},"64":{"start":{"line":148,"column":20},"end":{"line":151,"column":23}},"65":{"start":{"line":155,"column":12},"end":{"line":162,"column":13}},"66":{"start":{"line":156,"column":16},"end":{"line":161,"column":17}},"67":{"start":{"line":157,"column":20},"end":{"line":160,"column":23}},"68":{"start":{"line":163,"column":23},"end":{"line":163,"column":60}},"69":{"start":{"line":165,"column":32},"end":{"line":165,"column":69}},"70":{"start":{"line":166,"column":12},"end":{"line":171,"column":13}},"71":{"start":{"line":167,"column":16},"end":{"line":170,"column":19}},"72":{"start":{"line":172,"column":34},"end":{"line":172,"column":42}},"73":{"start":{"line":174,"column":28},"end":{"line":174,"column":89}},"74":{"start":{"line":175,"column":12},"end":{"line":180,"column":13}},"75":{"start":{"line":176,"column":16},"end":{"line":179,"column":19}},"76":{"start":{"line":181,"column":12},"end":{"line":184,"column":15}},"77":{"start":{"line":187,"column":12},"end":{"line":187,"column":29}},"78":{"start":{"line":188,"column":12},"end":{"line":191,"column":15}},"79":{"start":{"line":195,"column":26},"end":{"line":219,"column":6}},"80":{"start":{"line":196,"column":8},"end":{"line":218,"column":9}},"81":{"start":{"line":198,"column":23},"end":{"line":198,"column":60}},"82":{"start":{"line":200,"column":28},"end":{"line":200,"column":74}},"83":{"start":{"line":201,"column":12},"end":{"line":206,"column":13}},"84":{"start":{"line":202,"column":16},"end":{"line":205,"column":19}},"85":{"start":{"line":207,"column":12},"end":{"line":210,"column":15}},"86":{"start":{"line":213,"column":12},"end":{"line":213,"column":29}},"87":{"start":{"line":214,"column":12},"end":{"line":217,"column":15}},"88":{"start":{"line":221,"column":0},"end":{"line":221,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":12},"end":{"line":19,"column":13}},"loc":{"start":{"line":19,"column":26},"end":{"line":67,"column":6}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":60},"end":{"line":19,"column":61}},"loc":{"start":{"line":19,"column":73},"end":{"line":67,"column":5}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":69,"column":12},"end":{"line":69,"column":13}},"loc":{"start":{"line":69,"column":26},"end":{"line":118,"column":6}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":69,"column":60},"end":{"line":69,"column":61}},"loc":{"start":{"line":69,"column":73},"end":{"line":118,"column":5}},"line":69},"12":{"name":"(anonymous_12)","decl":{"start":{"line":120,"column":12},"end":{"line":120,"column":13}},"loc":{"start":{"line":120,"column":26},"end":{"line":141,"column":6}},"line":120},"13":{"name":"(anonymous_13)","decl":{"start":{"line":120,"column":60},"end":{"line":120,"column":61}},"loc":{"start":{"line":120,"column":73},"end":{"line":141,"column":5}},"line":120},"14":{"name":"(anonymous_14)","decl":{"start":{"line":143,"column":12},"end":{"line":143,"column":13}},"loc":{"start":{"line":143,"column":26},"end":{"line":193,"column":6}},"line":143},"15":{"name":"(anonymous_15)","decl":{"start":{"line":143,"column":60},"end":{"line":143,"column":61}},"loc":{"start":{"line":143,"column":73},"end":{"line":193,"column":5}},"line":143},"16":{"name":"(anonymous_16)","decl":{"start":{"line":195,"column":12},"end":{"line":195,"column":13}},"loc":{"start":{"line":195,"column":26},"end":{"line":219,"column":6}},"line":195},"17":{"name":"(anonymous_17)","decl":{"start":{"line":195,"column":60},"end":{"line":195,"column":61}},"loc":{"start":{"line":195,"column":73},"end":{"line":219,"column":5}},"line":195}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":27},"end":{"line":21,"column":67}},"type":"cond-expr","locations":[{"start":{"line":21,"column":46},"end":{"line":21,"column":62}},{"start":{"line":21,"column":65},"end":{"line":21,"column":67}}],"line":21},"9":{"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":78}},"type":"cond-expr","locations":[{"start":{"line":22,"column":44},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":78}}],"line":22},"10":{"loc":{"start":{"line":23,"column":25},"end":{"line":23,"column":74}},"type":"cond-expr","locations":[{"start":{"line":23,"column":42},"end":{"line":23,"column":70}},{"start":{"line":23,"column":73},"end":{"line":23,"column":74}}],"line":23},"11":{"loc":{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},{"start":{"line":35,"column":12},"end":{"line":40,"column":13}}],"line":35},"12":{"loc":{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":46,"column":13}},{"start":{"line":41,"column":12},"end":{"line":46,"column":13}}],"line":41},"13":{"loc":{"start":{"line":64,"column":25},"end":{"line":64,"column":87}},"type":"binary-expr","locations":[{"start":{"line":64,"column":25},"end":{"line":64,"column":36}},{"start":{"line":64,"column":40},"end":{"line":64,"column":87}}],"line":64},"14":{"loc":{"start":{"line":74,"column":12},"end":{"line":79,"column":13}},"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":79,"column":13}},{"start":{"line":74,"column":12},"end":{"line":79,"column":13}}],"line":74},"15":{"loc":{"start":{"line":81,"column":12},"end":{"line":86,"column":13}},"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":86,"column":13}},{"start":{"line":81,"column":12},"end":{"line":86,"column":13}}],"line":81},"16":{"loc":{"start":{"line":88,"column":12},"end":{"line":93,"column":13}},"type":"if","locations":[{"start":{"line":88,"column":12},"end":{"line":93,"column":13}},{"start":{"line":88,"column":12},"end":{"line":93,"column":13}}],"line":88},"17":{"loc":{"start":{"line":88,"column":16},"end":{"line":88,"column":89}},"type":"binary-expr","locations":[{"start":{"line":88,"column":17},"end":{"line":88,"column":47}},{"start":{"line":88,"column":53},"end":{"line":88,"column":68}},{"start":{"line":88,"column":74},"end":{"line":88,"column":88}}],"line":88},"18":{"loc":{"start":{"line":101,"column":12},"end":{"line":106,"column":13}},"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":106,"column":13}},{"start":{"line":101,"column":12},"end":{"line":106,"column":13}}],"line":101},"19":{"loc":{"start":{"line":125,"column":12},"end":{"line":130,"column":13}},"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":130,"column":13}},{"start":{"line":125,"column":12},"end":{"line":130,"column":13}}],"line":125},"20":{"loc":{"start":{"line":138,"column":25},"end":{"line":138,"column":92}},"type":"binary-expr","locations":[{"start":{"line":138,"column":25},"end":{"line":138,"column":36}},{"start":{"line":138,"column":40},"end":{"line":138,"column":92}}],"line":138},"21":{"loc":{"start":{"line":146,"column":12},"end":{"line":153,"column":13}},"type":"if","locations":[{"start":{"line":146,"column":12},"end":{"line":153,"column":13}},{"start":{"line":146,"column":12},"end":{"line":153,"column":13}}],"line":146},"22":{"loc":{"start":{"line":147,"column":16},"end":{"line":152,"column":17}},"type":"if","locations":[{"start":{"line":147,"column":16},"end":{"line":152,"column":17}},{"start":{"line":147,"column":16},"end":{"line":152,"column":17}}],"line":147},"23":{"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":120}},"type":"binary-expr","locations":[{"start":{"line":147,"column":21},"end":{"line":147,"column":60}},{"start":{"line":147,"column":66},"end":{"line":147,"column":90}},{"start":{"line":147,"column":96},"end":{"line":147,"column":119}}],"line":147},"24":{"loc":{"start":{"line":155,"column":12},"end":{"line":162,"column":13}},"type":"if","locations":[{"start":{"line":155,"column":12},"end":{"line":162,"column":13}},{"start":{"line":155,"column":12},"end":{"line":162,"column":13}}],"line":155},"25":{"loc":{"start":{"line":156,"column":16},"end":{"line":161,"column":17}},"type":"if","locations":[{"start":{"line":156,"column":16},"end":{"line":161,"column":17}},{"start":{"line":156,"column":16},"end":{"line":161,"column":17}}],"line":156},"26":{"loc":{"start":{"line":166,"column":12},"end":{"line":171,"column":13}},"type":"if","locations":[{"start":{"line":166,"column":12},"end":{"line":171,"column":13}},{"start":{"line":166,"column":12},"end":{"line":171,"column":13}}],"line":166},"27":{"loc":{"start":{"line":175,"column":12},"end":{"line":180,"column":13}},"type":"if","locations":[{"start":{"line":175,"column":12},"end":{"line":180,"column":13}},{"start":{"line":175,"column":12},"end":{"line":180,"column":13}}],"line":175},"28":{"loc":{"start":{"line":201,"column":12},"end":{"line":206,"column":13}},"type":"if","locations":[{"start":{"line":201,"column":12},"end":{"line":206,"column":13}},{"start":{"line":201,"column":12},"end":{"line":206,"column":13}}],"line":201}},"s":{"0":1,"1":10,"2":0,"3":13,"4":10,"5":10,"6":0,"7":0,"8":0,"9":0,"10":23,"11":13,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":1,"33":1,"34":1,"35":1,"36":0,"37":4,"38":4,"39":4,"40":4,"41":1,"42":3,"43":1,"44":2,"45":1,"46":1,"47":1,"48":1,"49":0,"50":1,"51":0,"52":2,"53":2,"54":2,"55":2,"56":2,"57":1,"58":1,"59":0,"60":4,"61":4,"62":4,"63":3,"64":1,"65":3,"66":1,"67":1,"68":2,"69":2,"70":2,"71":1,"72":1,"73":1,"74":1,"75":0,"76":1,"77":0,"78":0,"79":2,"80":2,"81":2,"82":2,"83":2,"84":1,"85":1,"86":0,"87":0,"88":1},"f":{"0":13,"1":10,"2":0,"3":13,"4":10,"5":0,"6":23,"7":1,"8":1,"9":1,"10":4,"11":4,"12":2,"13":2,"14":4,"15":4,"16":2,"17":2},"b":{"0":[1,1,1],"1":[10,0],"2":[13,13],"3":[13,10],"4":[13,13],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,1],"9":[0,1],"10":[0,1],"11":[1,0],"12":[0,1],"13":[0,0],"14":[1,3],"15":[1,2],"16":[1,1],"17":[2,1,1],"18":[0,1],"19":[1,1],"20":[0,0],"21":[3,1],"22":[1,2],"23":[3,2,2],"24":[1,2],"25":[1,0],"26":[1,1],"27":[0,1],"28":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RecipesController.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RecipesController.ts"],"names":[],"mappings":"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","sourcesContent":["import {Request, Response} from 'express';\nimport Recipes from '../database/services/recipes';\nimport {ObjectId} from 'mongodb';\nimport {TPosition, TPagenation} from '../types/pagenation'\n\nconst RecipesController = {\n// Retrieve and return all recipes from the database.\n  getAll: async (req: Request, res: Response) => {\n    try {\n      \n      const search = req.query.search ? req.query.search : ''\n      const limit = req.query.limit ? parseInt(<string>req.query.limit, 10) : 10\n      const page = req.query.page ? parseInt(<string>req.query.page, 10) : 1\n      \n      const startIndex = (page - 1) * limit;\n      const endIndex = page * limit;\n\n      const totalRecipes = await Recipes.totalNo();\n\n      let next:TPosition = {\n        page: 0,\n        limit: 5\n      }\n\n      let previous:TPosition = {\n        page: 0,\n        limit: 5\n      }\n\n      if (endIndex < totalRecipes) {\n         next = {\n            page: page + 1,\n            limit\n         }\n       }\n\n      if (startIndex > 0) {\n        previous = {\n          page: page - 1,\n          limit,\n        }\n       }\n\n      const dbFetch = await Recipes.allRecipes(limit, startIndex, <string>search);\n\n      const pagenation: TPagenation = {\n        next,\n        previous\n      }\n\n      const data = {\n        pagenation,\n        dbFetch\n      }\n\n      return res.status(200).send({\n        success: true,\n        data: data,\n      });\n    } catch (err) {\n      return res.status(500).send({\n        success: false,\n        message: err.message || 'Some error occurred while retrieving recipes.',\n      });\n    }\n  },\n\n  // Create and Save a new Recipes\n  create: async (req: Request, res: Response) => {\n    try {\n      // define variables\n      const {\n        name, difficulty, vegetarian,\n      } = req.body;\n\n      // validate vegetarian\n      if (typeof vegetarian !== 'boolean') {\n        return res.status(400).send({\n          success: false,\n          message: 'Vegetarian field should be boolean',\n        });\n      }\n      // validate Name\n      if (!req.body.name) {\n        return res.status(400).send({\n          success: false,\n          message: 'Name field can not be empty',\n        });\n      }\n\n      // validate Difficulty\n      if ((typeof difficulty !== 'number') || (difficulty <= 0) || (difficulty > 3)) {\n        return res.status(400).send({\n          success: false,\n          message: 'Difficulty field should be a number',\n        });\n      }\n\n      const recipesDetail = {\n        name,\n        difficulty,\n        vegetarian,\n      };\n\n      // Save user in the database\n      const recipes = await Recipes.saveRecipes(recipesDetail);\n      if (!recipes) {\n        return res.status(500).send({\n          success: false,\n          message: 'Failed to save recipes!',\n        });\n      }\n\n      return res.status(201).send({\n        success: true,\n        data: recipes,\n      });\n    } catch (err) {\n      return res.status(500).send({\n        success: false,\n        message: 'An error occured while saving recipes',\n      });\n    }\n  },\n\n  // Find a single recipes with an id\n  getOne: async (req: Request, res: Response) => {\n    try {\n      const id: ObjectId = new ObjectId(req.params.id);\n\n      // retrive recipes info\n      const recipes = await Recipes.fetchById(id);\n      if (!recipes) {\n        return res.status(400).send({\n          success: false,\n          message: `Recipe with id ${id} does not exist`,\n        });\n      }\n\n      return res.send({\n        success: true,\n        data: recipes,\n      });\n    } catch (err) {\n      return res.status(500).send({\n        message:\n          err.message || 'Some error occurred while retrieving club details.',\n      });\n    }\n  },\n\n  // Update the recipes identified by the parameter\n  update: async (req: Request, res: Response) => {\n    try {\n      // validate Difficulty if it exist\n      if (req.body.difficulty) {\n        if ((typeof req.body.difficulty !== 'number') || (req.body.difficulty <= 0) || (req.body.difficulty > 3)) {\n          return res.status(400).send({\n            success: false,\n            message: 'Difficulty field should be a number not greater than 3',\n          });\n        }\n      }\n      // validate Vegetarian if it exist\n      if (req.body.vegetarian) {\n        if (typeof req.body.vegetarian !== 'boolean') {\n          return res.status(400).send({\n            success: false,\n            message: 'Vegetarian field should be boolean',\n          });\n        }\n      }\n\n      const id: ObjectId = new ObjectId(req.params.id);\n\n      // check if recipe exist\n      const recipeExist = await Recipes.fetchById(id);\n      if (!recipeExist) {\n        return res.status(400).send({\n          success: false,\n          message: `Recipe with id ${id} does not exist`,\n        });\n      }\n\n      const recipesDetail = req.body;\n      // Find recipe and update it with the request body\n      const recipes = await Recipes.fetchByIdAndUpdate(id, recipesDetail);\n      if (!recipes) {\n        return res.status(500).send({\n          success: false,\n          message: 'Recipe update failed',\n        });\n      }\n      return res.status(200).send({\n        success: true,\n        data: recipes,\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).send({\n        success: false,\n        message: 'An error occured while updating recipes',\n      });\n    }\n  },\n\n  // Delete the recipes identified by the parameter\n  delete: async (req: Request, res: Response) => {\n    try {\n      // define variables\n      const id: ObjectId  = new ObjectId(req.params.id);\n\n      // Find recipe and delete\n      const recipes = await Recipes.fetchByIdAndDelete(id);\n      if (!recipes) {\n        return res.status(400).send({\n          success: false,\n          message: 'Invalid ID',\n        });\n      }\n      return res.status(200).send({\n        success: true,\n        message: 'Recipe successfully deleted',\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).send({\n        success: false,\n        message: 'An error occured while deleting recipe',\n      });\n    }\n  },\n};\n\nexport default RecipesController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bbd6f0fa2a090ab6114fd896d4c6cceb019706a5","contentHash":"10ef4c9d250c232c61e66b4e8a023ec84999a90ab55a24dadb0bf2db0ef7735d"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/recipes.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/recipes.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":63}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":53}},"17":{"start":{"line":17,"column":21},"end":{"line":68,"column":1}},"18":{"start":{"line":19,"column":36},"end":{"line":25,"column":6}},"19":{"start":{"line":20,"column":24},"end":{"line":20,"column":69}},"20":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"21":{"start":{"line":22,"column":12},"end":{"line":22,"column":25}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":23}},"23":{"start":{"line":27,"column":19},"end":{"line":30,"column":6}},"24":{"start":{"line":28,"column":19},"end":{"line":28,"column":59}},"25":{"start":{"line":29,"column":8},"end":{"line":29,"column":18}},"26":{"start":{"line":31,"column":47},"end":{"line":40,"column":6}},"27":{"start":{"line":32,"column":24},"end":{"line":35,"column":31}},"28":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"29":{"start":{"line":37,"column":12},"end":{"line":37,"column":25}},"30":{"start":{"line":39,"column":8},"end":{"line":39,"column":23}},"31":{"start":{"line":41,"column":23},"end":{"line":47,"column":6}},"32":{"start":{"line":42,"column":24},"end":{"line":42,"column":60}},"33":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"34":{"start":{"line":44,"column":12},"end":{"line":44,"column":25}},"35":{"start":{"line":46,"column":8},"end":{"line":46,"column":23}},"36":{"start":{"line":48,"column":47},"end":{"line":54,"column":6}},"37":{"start":{"line":49,"column":24},"end":{"line":49,"column":109}},"38":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"39":{"start":{"line":51,"column":12},"end":{"line":51,"column":25}},"40":{"start":{"line":53,"column":8},"end":{"line":53,"column":23}},"41":{"start":{"line":55,"column":32},"end":{"line":67,"column":6}},"42":{"start":{"line":56,"column":24},"end":{"line":56,"column":69}},"43":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"44":{"start":{"line":58,"column":12},"end":{"line":58,"column":25}},"45":{"start":{"line":61,"column":23},"end":{"line":61,"column":63}},"46":{"start":{"line":62,"column":8},"end":{"line":65,"column":9}},"47":{"start":{"line":64,"column":12},"end":{"line":64,"column":25}},"48":{"start":{"line":66,"column":8},"end":{"line":66,"column":23}},"49":{"start":{"line":69,"column":0},"end":{"line":69,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":18}},"loc":{"start":{"line":19,"column":36},"end":{"line":25,"column":6}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":70},"end":{"line":19,"column":71}},"loc":{"start":{"line":19,"column":83},"end":{"line":25,"column":5}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":13},"end":{"line":27,"column":14}},"loc":{"start":{"line":27,"column":19},"end":{"line":30,"column":6}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":27,"column":53},"end":{"line":27,"column":54}},"loc":{"start":{"line":27,"column":66},"end":{"line":30,"column":5}},"line":27},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":16},"end":{"line":31,"column":17}},"loc":{"start":{"line":31,"column":47},"end":{"line":40,"column":6}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":31,"column":81},"end":{"line":31,"column":82}},"loc":{"start":{"line":31,"column":94},"end":{"line":40,"column":5}},"line":31},"14":{"name":"(anonymous_14)","decl":{"start":{"line":41,"column":15},"end":{"line":41,"column":16}},"loc":{"start":{"line":41,"column":23},"end":{"line":47,"column":6}},"line":41},"15":{"name":"(anonymous_15)","decl":{"start":{"line":41,"column":57},"end":{"line":41,"column":58}},"loc":{"start":{"line":41,"column":70},"end":{"line":47,"column":5}},"line":41},"16":{"name":"(anonymous_16)","decl":{"start":{"line":48,"column":24},"end":{"line":48,"column":25}},"loc":{"start":{"line":48,"column":47},"end":{"line":54,"column":6}},"line":48},"17":{"name":"(anonymous_17)","decl":{"start":{"line":48,"column":81},"end":{"line":48,"column":82}},"loc":{"start":{"line":48,"column":94},"end":{"line":54,"column":5}},"line":48},"18":{"name":"(anonymous_18)","decl":{"start":{"line":55,"column":24},"end":{"line":55,"column":25}},"loc":{"start":{"line":55,"column":32},"end":{"line":67,"column":6}},"line":55},"19":{"name":"(anonymous_19)","decl":{"start":{"line":55,"column":66},"end":{"line":55,"column":67}},"loc":{"start":{"line":55,"column":79},"end":{"line":67,"column":5}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},{"start":{"line":21,"column":8},"end":{"line":23,"column":9}}],"line":21},"9":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"10":{"loc":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},{"start":{"line":43,"column":8},"end":{"line":45,"column":9}}],"line":43},"11":{"loc":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},{"start":{"line":50,"column":8},"end":{"line":52,"column":9}}],"line":50},"12":{"loc":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},{"start":{"line":57,"column":8},"end":{"line":59,"column":9}}],"line":57},"13":{"loc":{"start":{"line":62,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":65,"column":9}},{"start":{"line":62,"column":8},"end":{"line":65,"column":9}}],"line":62}},"s":{"0":1,"1":15,"2":13,"3":14,"4":15,"5":15,"6":0,"7":0,"8":0,"9":0,"10":29,"11":14,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1,"31":8,"32":8,"33":8,"34":3,"35":5,"36":1,"37":1,"38":1,"39":0,"40":1,"41":2,"42":2,"43":2,"44":1,"45":1,"46":1,"47":0,"48":1,"49":1},"f":{"0":14,"1":15,"2":13,"3":14,"4":15,"5":0,"6":29,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":8,"15":8,"16":1,"17":1,"18":2,"19":2},"b":{"0":[1,1,1],"1":[2,13],"2":[14,14],"3":[14,15],"4":[14,14],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[0,1],"9":[0,1],"10":[3,5],"11":[0,1],"12":[1,1],"13":[0,1]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/recipes.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/recipes.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,gEAAoD;AACpD,sDAA8B;AAG9B,MAAM,YAAY,GAAG;IACnB,yBAAyB;IACzB,WAAW,EAAE,CAAO,aAA6B,EAAE,EAAE;QACnD,MAAM,OAAO,GAAG,MAAM,iBAAQ,CAAC,MAAM,CAAU,aAAa,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAA;IAED,yBAAyB;IACzB,OAAO,EAAE,GAAS,EAAE;QAClB,MAAM,EAAE,GAAG,MAAM,iBAAQ,CAAC,cAAc,EAAE,CAAC;QAC3C,OAAO,EAAE,CAAC;IACZ,CAAC,CAAA;IAED,UAAU,EAAE,CAAO,KAAa,EAAE,UAAkB,EAAE,MAAc,EAAE,EAAE;QACtE,MAAM,OAAO,GAAG,MAAM,iBAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE,CAAC;aAC7E,KAAK,CAAC,KAAK,CAAC;aACZ,IAAI,CAAC,UAAU,CAAC;aAChB,IAAI,CAAC,YAAY,CAAC,CAAC;QAEtB,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAA;IAED,SAAS,EAAE,CAAO,EAAY,EAAE,EAAE;QAChC,MAAM,OAAO,GAAG,MAAM,iBAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAA;IAED,kBAAkB,EAAE,CAAO,EAAY,EAAE,aAA6B,EAAE,EAAE;QACxE,MAAM,OAAO,GAAG,MAAM,iBAAQ,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;QAC7F,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAA;IAED,kBAAkB,EAAE,CAAO,EAAW,EAAE,EAAE;QACxC,MAAM,OAAO,GAAG,MAAM,iBAAQ,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QACD,uCAAuC;QACvC,MAAM,MAAM,GAAG,MAAM,gBAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,wCAAwC;YACxC,OAAO,KAAK,CAAC;SACd;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAA;CACF,CAAC;AAEF,kBAAe,YAAY,CAAC","sourcesContent":["\nimport {TRecipesDetail} from '../../types/services'\nimport RecipesM, {Recipes} from '../models/recipes';\nimport Rating from './rating';\nimport {ObjectId} from 'mongodb';\n\nconst RecipesClass = {\n  //  ------save data------\n  saveRecipes: async (recipesDetail: TRecipesDetail) => {\n    const recipes = await RecipesM.create(<Recipes>recipesDetail);\n    if (!recipes) {\n      return false;\n    }\n    return recipes;\n  },\n\n  //  -----fetch data------\n  totalNo: async () => {\n    const no = await RecipesM.countDocuments();\n    return no;\n  },\n\n  allRecipes: async (limit: number, startIndex: number, search: string) => {\n    const recipes = await RecipesM.find({ name: { $regex: search, $options: 'i' } })\n      .limit(limit)\n      .skip(startIndex)\n      .sort('-createdOn');\n\n    if (!recipes) {\n      return false;\n    }\n    return recipes;\n  },\n\n  fetchById: async (id: ObjectId) => {\n    const recipes = await RecipesM.findById(id);\n    if (!recipes) {\n      return false;\n    }\n    return recipes;\n  },\n\n  fetchByIdAndUpdate: async (id: ObjectId, recipesDetail: TRecipesDetail) => {\n    const recipes = await RecipesM.findByIdAndUpdate(id, { $set: recipesDetail }, { new: true });\n    if (!recipes) {\n      return false;\n    }\n    return recipes;\n  },\n\n  fetchByIdAndDelete: async (id:ObjectId) => {\n    const recipes = await RecipesM.findByIdAndDelete(id);\n    if (!recipes) {\n      return false;\n    }\n    // delete all the rating of this recipe\n    const rating = await Rating.deleteRatings(id);\n    if (!rating) {\n      // undo the first stage and return false\n      return false;\n    }\n    return recipes;\n  },\n};\n\nexport default RecipesClass;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d07161a02bf6348c1ffca144c15f6397c7186b5","contentHash":"e1d996116e0aaa37de60ea7592ced19b83d90aa2255c5a18bdba573dbfc63226"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/recipes.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/recipes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":22},"end":{"line":24,"column":2}},"4":{"start":{"line":26,"column":17},"end":{"line":26,"column":69}},"5":{"start":{"line":29,"column":0},"end":{"line":29,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/recipes.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/recipes.ts"],"names":[],"mappings":";;AACA,4CAAsC;AAEtC,MAAM,EAAE,MAAM,EAAE,GAAG,oBAAQ,CAAC;AAE5B,MAAM,aAAa,GAAG,IAAI,MAAM,CAAC;IAC/B,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,IAAI,EAAE;KACpB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,IAAI;KACf;IACD,UAAU,EAAE;QACV,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,IAAI;KACf;CAEF,CAAC,CAAC;AAWH,aAAa;AACb,MAAM,QAAQ,GAAG,oBAAQ,CAAC,KAAK,CAAU,SAAS,EAAE,aAAa,CAAC,CAAC;AAEnE,iBAAiB;AACjB,8CAA8C;AAC9C,kBAAe,QAAQ,CAAC","sourcesContent":["import { Document } from 'mongoose';\nimport {mongoose} from '../dbConnect';\n\nconst { Schema } = mongoose;\n\nconst RecipesSchema = new Schema({\n  name: {\n    type: String,\n    required: true,\n  },\n  prepTime: {\n    type: Date,\n    default: new Date(),\n  },\n  difficulty: {\n    type: Number,\n    min: 1,\n    max: 3,\n    required: true,\n  },\n  vegetarian: {\n    type: Boolean,\n    required: true,\n  },\n\n});\n\nexport interface Recipes extends Document {\n    name: string;\n    prepTime: Date;\n    difficulty: number;\n    vegetarian: boolean;\n    createdAt: Date;\n    updatedAt: Date;\n  }\n\n// club model\nconst RecipesM = mongoose.model<Recipes>('recipes', RecipesSchema);\n\n// module exports\n// module.exports = mongoose.model('recipes');\nexport default RecipesM;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"06b3d09910a4a26ba1b7212a1af259aa24fda8ff","contentHash":"21308d55e8a5116956f23df3347f21a8d4bb3dbd29115764837e7a733a8f12b9"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/dbConnect.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/dbConnect.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":26}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":55}},"17":{"start":{"line":17,"column":0},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":37}},"19":{"start":{"line":19,"column":21},"end":{"line":37,"column":2}},"20":{"start":{"line":19,"column":27},"end":{"line":37,"column":2}},"21":{"start":{"line":20,"column":4},"end":{"line":36,"column":5}},"22":{"start":{"line":22,"column":8},"end":{"line":31,"column":9}},"23":{"start":{"line":23,"column":12},"end":{"line":23,"column":52}},"24":{"start":{"line":24,"column":12},"end":{"line":24,"column":170}},"25":{"start":{"line":25,"column":12},"end":{"line":25,"column":53}},"26":{"start":{"line":28,"column":12},"end":{"line":28,"column":52}},"27":{"start":{"line":29,"column":12},"end":{"line":29,"column":140}},"28":{"start":{"line":30,"column":12},"end":{"line":30,"column":52}},"29":{"start":{"line":35,"column":8},"end":{"line":35,"column":53}},"30":{"start":{"line":38,"column":0},"end":{"line":38,"column":15}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":21},"end":{"line":19,"column":22}},"loc":{"start":{"line":19,"column":27},"end":{"line":37,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":61},"end":{"line":19,"column":62}},"loc":{"start":{"line":19,"column":74},"end":{"line":37,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":31,"column":9}},{"start":{"line":22,"column":8},"end":{"line":31,"column":9}}],"line":22}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":1,"8":1,"9":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[1,1,1],"6":[0,1],"7":[1,1],"8":[1,0]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/dbConnect.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/dbConnect.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,wDAAgC;AAwBxB,mBAxBD,kBAAQ,CAwBC;AAvBhB,sCAAiC;AAEjC,MAAM,YAAY,GAAG,GAAO,EAAE;IAC5B,IAAG;QACD,IAAI,UAAU,CAAA;QACd,IAAG,eAAM,CAAC,iBAAiB,KAAK,MAAM,EAAC;YACrC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAA;YACvC,UAAU,GAAG,MAAM,kBAAQ,CAAC,OAAO,CAAS,eAAM,CAAC,gBAAgB,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAA;YAClJ,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAA;SACzC;aAAI;YACH,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAA;YACvC,UAAU,GAAG,MAAM,kBAAQ,CAAC,OAAO,CAAS,eAAM,CAAC,WAAW,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAA;YACpH,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAA;SACxC;QACD,kDAAkD;KACnD;IACD,OAAO,GAAG,EAAC;QACP,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,yBAAyB,CAAC,CAAA;KAC/C;AACH,CAAC,CAAA,CAAA;AAED,YAAY,EAAE,CAAA","sourcesContent":["import mongoose from 'mongoose';\nimport {config} from '../config';\n\nconst dbconnection = async()=>{\n  try{\n    let connection\n    if(config.environment_check === 'test'){\n      console.log('test database connected ')\n      connection = await mongoose.connect(<string>config.test_mongodb_url, { useNewUrlParser: true, useUnifiedTopology: true, useFindAndModify: false })\n      console.log('test database connected 2')\n    }else{\n      console.log('App database connected 1')\n      connection = await mongoose.connect(<string>config.mongodb_url, { useNewUrlParser: true, useUnifiedTopology: true })\n      console.log('App database connected 2')\n    }\n    // console.log(`${connection} database connected`)\n  }\n  catch (err){\n      console.log(`${err} database not connected`)\n  }\n}\n\ndbconnection()\n// export default dbconnection;\nexport {mongoose}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"11a41692b7d79012989618abdafb69c85cbbd51d","contentHash":"bef0fb255fd4071b5c6fa94a1afb21a37c96c83855fbc4f7d295101184621bba"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/rating.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/rating.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":61}},"16":{"start":{"line":16,"column":20},"end":{"line":33,"column":1}},"17":{"start":{"line":18,"column":28},"end":{"line":25,"column":6}},"18":{"start":{"line":19,"column":21},"end":{"line":19,"column":58}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":38}},"20":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"21":{"start":{"line":22,"column":12},"end":{"line":22,"column":25}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":20}},"23":{"start":{"line":26,"column":27},"end":{"line":32,"column":6}},"24":{"start":{"line":27,"column":21},"end":{"line":27,"column":72}},"25":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":25}},"27":{"start":{"line":31,"column":8},"end":{"line":31,"column":20}},"28":{"start":{"line":34,"column":0},"end":{"line":34,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":16},"end":{"line":18,"column":17}},"loc":{"start":{"line":18,"column":28},"end":{"line":25,"column":6}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":62},"end":{"line":18,"column":63}},"loc":{"start":{"line":18,"column":75},"end":{"line":25,"column":5}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":26,"column":19},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":27},"end":{"line":32,"column":6}},"line":26},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":61},"end":{"line":26,"column":62}},"loc":{"start":{"line":26,"column":74},"end":{"line":32,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},{"start":{"line":21,"column":8},"end":{"line":23,"column":9}}],"line":21},"9":{"loc":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},{"start":{"line":28,"column":8},"end":{"line":30,"column":9}}],"line":28}},"s":{"0":1,"1":2,"2":1,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1},"f":{"0":2,"1":2,"2":1,"3":2,"4":2,"5":0,"6":4,"7":1,"8":1,"9":1,"10":1,"11":1},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2],"3":[2,2],"4":[2,2],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,1],"9":[0,1]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/rating.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/rating.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,8DAA6C;AAK7C,MAAM,WAAW,GAAG;IAClB,yBAAyB;IACzB,UAAU,EAAE,CAAO,MAAe,EAAE,EAAE;QACpC,MAAM,IAAI,GAAG,MAAM,gBAAK,CAAC,MAAM,CAAQ,MAAM,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;QAC7B,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAA;IAED,aAAa,EAAE,CAAO,EAAY,EAAE,EAAE;QACpC,MAAM,IAAI,GAAG,MAAM,gBAAK,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAA;CACF,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import RateM, {Rate} from '../models/rating';\nimport {ObjectId} from 'mongodb';\nimport {TRating} from '../../types/services'\n\n\nconst RatingClass = {\n  //  ------save data------\n  saveRating: async (rating: TRating) => {\n    const rate = await RateM.create(<Rate> rating);\n    console.log(rate, 'rrraatte')\n    if (!rate) {\n      return false;\n    }\n    return rate;\n  },\n\n  deleteRatings: async (id: ObjectId) => {\n    const rate = await RateM.deleteMany({ recipeId: id });\n    if (!rate) {\n      return false;\n    }\n    return rate;\n  },\n};\n\nexport default RatingClass;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d891d84f6636b59f65517d17b0206ee7b047663","contentHash":"9d1589f6d41fb98f6c520f41b6d818ecfe62dc7828dc7966329575c5cc9a5670"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/rating.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/rating.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":21},"end":{"line":21,"column":2}},"4":{"start":{"line":23,"column":14},"end":{"line":23,"column":64}},"5":{"start":{"line":26,"column":0},"end":{"line":26,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/rating.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/rating.ts"],"names":[],"mappings":";;AACA,4CAAsC;AAGtC,MAAM,EAAE,MAAM,EAAE,GAAG,oBAAQ,CAAC;AAE5B,MAAM,YAAY,GAAG,IAAI,MAAM,CAAC;IAC9B,QAAQ,EAAE;QACR,IAAI,EAAE,oBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,SAAS;KACf;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,IAAI;KACf;IACD,OAAO,EAAE;QACP,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,IAAI,EAAE;QACnB,QAAQ,EAAE,IAAI;KACf;CAEF,CAAC,CAAC;AAWH,eAAe;AACf,MAAM,KAAK,GAAG,oBAAQ,CAAC,KAAK,CAAO,QAAQ,EAAE,YAAY,CAAC,CAAC;AAE3D,iBAAiB;AACjB,6CAA6C;AAC7C,kBAAe,KAAK,CAAC","sourcesContent":["import { Document } from 'mongoose';\nimport {mongoose} from '../dbConnect';\nimport {ObjectId} from 'mongodb'\n\nconst { Schema } = mongoose;\n\nconst RatingSchema = new Schema({\n  recipeId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'recipes',\n  },\n  rate: {\n    type: Number,\n    min: 1,\n    max: 5,\n    required: true,\n  },\n  theDate: {\n    type: Date,\n    default: new Date(),\n    required: true,\n  },\n\n});\n\nexport interface Rate extends Document {\n    recipeId: ObjectId;\n    rate: number;\n    theDate: Date;\n    createdAt: Date;\n    updatedAt: Date;\n  }\n\n\n// rating model\nconst RateM = mongoose.model<Rate>('rating', RatingSchema);\n\n// module exports\n// module.exports = mongoose.model('rating');\nexport default RateM;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"58c19d6e521c4cf9fdfd02e10570de41a9346419","contentHash":"bdf25999cacfb2a15e006f36d7609d31cc5585ba6f386fca12fb3bf7170b5ce9"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/UserController.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/UserController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":51}},"16":{"start":{"line":16,"column":23},"end":{"line":16,"column":63}},"17":{"start":{"line":17,"column":17},"end":{"line":17,"column":37}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":70}},"19":{"start":{"line":19,"column":31},"end":{"line":19,"column":132}},"20":{"start":{"line":20,"column":24},"end":{"line":63,"column":1}},"21":{"start":{"line":22,"column":25},"end":{"line":62,"column":6}},"22":{"start":{"line":23,"column":8},"end":{"line":61,"column":9}},"23":{"start":{"line":24,"column":12},"end":{"line":29,"column":13}},"24":{"start":{"line":25,"column":16},"end":{"line":28,"column":19}},"25":{"start":{"line":30,"column":29},"end":{"line":30,"column":84}},"26":{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},"27":{"start":{"line":32,"column":16},"end":{"line":35,"column":19}},"28":{"start":{"line":37,"column":36},"end":{"line":37,"column":104}},"29":{"start":{"line":38,"column":12},"end":{"line":43,"column":13}},"30":{"start":{"line":39,"column":16},"end":{"line":42,"column":19}},"31":{"start":{"line":44,"column":32},"end":{"line":48,"column":13}},"32":{"start":{"line":49,"column":32},"end":{"line":49,"column":55}},"33":{"start":{"line":50,"column":12},"end":{"line":54,"column":15}},"34":{"start":{"line":57,"column":12},"end":{"line":60,"column":15}},"35":{"start":{"line":64,"column":0},"end":{"line":64,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"generateToken","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":22}},"loc":{"start":{"line":19,"column":29},"end":{"line":19,"column":134}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":12}},"loc":{"start":{"line":22,"column":25},"end":{"line":62,"column":6}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":59},"end":{"line":22,"column":60}},"loc":{"start":{"line":22,"column":72},"end":{"line":62,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":24,"column":12},"end":{"line":29,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":29,"column":13}},{"start":{"line":24,"column":12},"end":{"line":29,"column":13}}],"line":24},"9":{"loc":{"start":{"line":24,"column":16},"end":{"line":24,"column":56}},"type":"binary-expr","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":34}},{"start":{"line":24,"column":38},"end":{"line":24,"column":56}}],"line":24},"10":{"loc":{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":36,"column":13}},{"start":{"line":31,"column":12},"end":{"line":36,"column":13}}],"line":31},"11":{"loc":{"start":{"line":38,"column":12},"end":{"line":43,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":43,"column":13}},{"start":{"line":38,"column":12},"end":{"line":43,"column":13}}],"line":38},"12":{"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":55}},"type":"binary-expr","locations":[{"start":{"line":59,"column":25},"end":{"line":59,"column":36}},{"start":{"line":59,"column":40},"end":{"line":59,"column":55}}],"line":59}},"s":{"0":1,"1":7,"2":0,"3":6,"4":7,"5":7,"6":0,"7":0,"8":0,"9":0,"10":13,"11":6,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":2,"20":1,"21":6,"22":6,"23":6,"24":2,"25":4,"26":4,"27":1,"28":3,"29":3,"30":1,"31":2,"32":2,"33":2,"34":0,"35":1},"f":{"0":6,"1":7,"2":0,"3":6,"4":7,"5":0,"6":13,"7":3,"8":2,"9":6,"10":6},"b":{"0":[1,1,1],"1":[7,0],"2":[6,6],"3":[6,7],"4":[6,6],"5":[1,1,1],"6":[1,2],"7":[3,3],"8":[2,4],"9":[6,5],"10":[1,3],"11":[1,2],"12":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/UserController.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/UserController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,oDAA4B;AAC5B,gEAA+B;AAC/B,sCAAiC;AACjC,uEAA8C;AAE9C,SAAS,aAAa,CAAC,IAAS,IAAI,OAAO,sBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,EAAU,eAAM,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AAEvH,MAAM,eAAe,GAAG;IACtB,aAAa;IACb,KAAK,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;QAC3C,IAAI;YACF,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAC5C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,uCAAuC;iBACjD,CAAC,CAAC;aACJ;YACD,MAAM,QAAQ,GAAG,MAAM,eAAI,CAAC,cAAc,CAAS,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEtE,IAAI,CAAC,QAAQ,EAAE;gBACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,gCAAgC;iBAC1C,CAAC,CAAC;aACJ;YAED,MAAM,eAAe,GAAG,MAAM,gBAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACnF,IAAI,CAAC,eAAe,EAAE;gBACpB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,gCAAgC;iBAC1C,CAAC,CAAC;aACJ;YAED,MAAM,WAAW,GAAG;gBAClB,gDAAgD;gBAChD,EAAE,EAAE,QAAQ,CAAC,GAAG;gBAChB,QAAQ,EAAE,QAAQ,CAAC,QAAQ;aAC5B,CAAC;YAEF,MAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC5C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,WAAW;gBACX,OAAO,EAAE,IAAI;gBACb,IAAI,EAAE,WAAW;aAClB,CAAC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,eAAe;aACxC,CAAC,CAAC;SACJ;IACH,CAAC,CAAA;CACF,CAAC;AAEF,kBAAe,eAAe,CAAC","sourcesContent":["import {Request,Response} from 'express';\nimport bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport {config} from '../config';\nimport User from '../database/services/users';\n\nfunction generateToken(user: any) { return jwt.sign(user.toJSON(), <string>config.access_token, { expiresIn: '1w' }); }\n\nconst UsersController = {\n  // login user\n  login: async (req: Request, res: Response) => {\n    try {\n      if (!req.body.username || !req.body.password) {\n        return res.status(400).send({\n          success: false,\n          message: 'username or password can not be empty',\n        });\n      }\n      const findUser = await User.findByUsername(<string>req.body.username);\n\n      if (!findUser) {\n        return res.status(400).send({\n          success: false,\n          message: 'Incorrect username or password',\n        });\n      }\n\n      const confirmPassword = await bcrypt.compare(req.body.password, findUser.password);\n      if (!confirmPassword) {\n        return res.status(400).send({\n          success: false,\n          message: 'Incorrect username or password',\n        });\n      }\n\n      const userDetails = {\n        // eslint-disable-next-line no-underscore-dangle\n        id: findUser._id,\n        username: findUser.username,\n      };\n\n      const accessToken = generateToken(findUser);\n      return res.status(200).send({\n        accessToken,\n        success: true,\n        data: userDetails,\n      });\n    } catch (err) {\n      return res.status(400).send({\n        success: false,\n        message: err.message || 'login failed.',\n      });\n    }\n  },\n};\n\nexport default UsersController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d426ac763152690cfc03d4b5b5ef3b09cd9c2f4a","contentHash":"8a50798955b56143312963811fe94006d7d108d4d9c3a6106390a29a844e0794"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/users.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/users.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":16},"end":{"line":15,"column":59}},"16":{"start":{"line":16,"column":18},"end":{"line":24,"column":1}},"17":{"start":{"line":17,"column":34},"end":{"line":23,"column":6}},"18":{"start":{"line":18,"column":21},"end":{"line":18,"column":64}},"19":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"20":{"start":{"line":20,"column":12},"end":{"line":20,"column":25}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":20}},"22":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":20},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":34},"end":{"line":23,"column":6}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":68},"end":{"line":17,"column":69}},"loc":{"start":{"line":17,"column":81},"end":{"line":23,"column":5}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19}},"s":{"0":1,"1":4,"2":4,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":8,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1,"17":4,"18":4,"19":4,"20":1,"21":3,"22":1},"f":{"0":4,"1":4,"2":4,"3":4,"4":4,"5":0,"6":8,"7":1,"8":4,"9":4},"b":{"0":[1,1,1],"1":[0,4],"2":[4,4],"3":[4,4],"4":[4,4],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,3]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/users.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/services/users.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,4DAA8C;AAE9C,MAAM,SAAS,GAAG;IAChB,cAAc,EAAE,CAAO,QAAgB,EAAE,EAAE;QACzC,MAAM,IAAI,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAA;CACF,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["import MUser, { User } from '../models/users';\n\nconst UserClass = {\n  findByUsername: async (username: string) => {\n    const user = await MUser.findOne({ username });\n    if (!user) {\n      return false;\n    }\n    return user;\n  },\n};\n\nexport default UserClass;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8e9685d0518a02679a2627c62d25a5e0c964d4c4","contentHash":"b6212a4cb7c9556ee4ceff1db138a1afc312e3178a5ac36b6ea0240e9833083f"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/users.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/users.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":19},"end":{"line":14,"column":2}},"4":{"start":{"line":16,"column":14},"end":{"line":16,"column":61}},"5":{"start":{"line":19,"column":0},"end":{"line":19,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/users.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/database/models/users.ts"],"names":[],"mappings":";;AACA,4CAAsC;AAEtC,MAAM,EAAE,MAAM,EAAE,GAAG,oBAAQ,CAAC;AAE5B,MAAM,UAAU,GAAG,IAAI,MAAM,CAAC;IAC5B,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;CAEF,CAAC,CAAC;AASH,aAAa;AACb,MAAM,KAAK,GAAG,oBAAQ,CAAC,KAAK,CAAO,OAAO,EAAE,UAAU,CAAC,CAAC;AAExD,iBAAiB;AACjB,4CAA4C;AAC5C,kBAAe,KAAK,CAAC","sourcesContent":["import { Document } from 'mongoose';\nimport {mongoose} from '../dbConnect';\n\nconst { Schema } = mongoose;\n\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    required: true,\n  },\n  password: {\n    type: String,\n    required: true,\n  },\n\n});\n\nexport interface User extends Document {\n    username: string;\n    password: string;\n    createdAt: Date,\n    updatedAt: Date,\n  }\n\n// club model\nconst UserM = mongoose.model<User>('users', UserSchema);\n\n// module exports\n// module.exports = mongoose.model('users');\nexport default UserM;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7959cbef2eb65ebf2a130ad7614aafdcb5b0baa7","contentHash":"a67e0a892b77f37b2531526074c55f55628a1cf698b8fcb6c51f1f1ee9ce9bcb"},"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RatingController.ts":{"path":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RatingController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":72}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":74}},"17":{"start":{"line":17,"column":18},"end":{"line":17,"column":36}},"18":{"start":{"line":18,"column":25},"end":{"line":65,"column":1}},"19":{"start":{"line":20,"column":26},"end":{"line":64,"column":6}},"20":{"start":{"line":21,"column":8},"end":{"line":63,"column":9}},"21":{"start":{"line":22,"column":23},"end":{"line":22,"column":60}},"22":{"start":{"line":24,"column":32},"end":{"line":24,"column":69}},"23":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"24":{"start":{"line":26,"column":16},"end":{"line":29,"column":19}},"25":{"start":{"line":32,"column":29},"end":{"line":32,"column":37}},"26":{"start":{"line":34,"column":12},"end":{"line":39,"column":13}},"27":{"start":{"line":35,"column":16},"end":{"line":38,"column":19}},"28":{"start":{"line":40,"column":27},"end":{"line":43,"column":13}},"29":{"start":{"line":45,"column":26},"end":{"line":45,"column":67}},"30":{"start":{"line":46,"column":12},"end":{"line":51,"column":13}},"31":{"start":{"line":47,"column":16},"end":{"line":50,"column":19}},"32":{"start":{"line":52,"column":12},"end":{"line":55,"column":15}},"33":{"start":{"line":58,"column":12},"end":{"line":58,"column":29}},"34":{"start":{"line":59,"column":12},"end":{"line":62,"column":15}},"35":{"start":{"line":66,"column":0},"end":{"line":66,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":12},"end":{"line":20,"column":13}},"loc":{"start":{"line":20,"column":26},"end":{"line":64,"column":6}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":60},"end":{"line":20,"column":61}},"loc":{"start":{"line":20,"column":73},"end":{"line":64,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},{"start":{"line":25,"column":12},"end":{"line":30,"column":13}}],"line":25},"9":{"loc":{"start":{"line":34,"column":12},"end":{"line":39,"column":13}},"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":39,"column":13}},{"start":{"line":34,"column":12},"end":{"line":39,"column":13}}],"line":34},"10":{"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":71}},"type":"binary-expr","locations":[{"start":{"line":34,"column":17},"end":{"line":34,"column":41}},{"start":{"line":34,"column":47},"end":{"line":34,"column":56}},{"start":{"line":34,"column":62},"end":{"line":34,"column":70}}],"line":34},"11":{"loc":{"start":{"line":46,"column":12},"end":{"line":51,"column":13}},"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":51,"column":13}},{"start":{"line":46,"column":12},"end":{"line":51,"column":13}}],"line":46}},"s":{"0":1,"1":5,"2":0,"3":4,"4":5,"5":5,"6":0,"7":0,"8":0,"9":0,"10":9,"11":4,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":4,"20":4,"21":4,"22":4,"23":4,"24":1,"25":3,"26":3,"27":2,"28":1,"29":1,"30":1,"31":0,"32":1,"33":0,"34":0,"35":1},"f":{"0":4,"1":5,"2":0,"3":4,"4":5,"5":0,"6":9,"7":2,"8":4,"9":4},"b":{"0":[1,1,1],"1":[5,0],"2":[4,4],"3":[4,5],"4":[4,4],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[1,3],"9":[2,1],"10":[3,1,1],"11":[0,1]},"inputSourceMap":{"version":3,"file":"/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RatingController.ts","sources":["/Users/chinyeluibute/Documents/project/typescript/cook-book/src/controllers/RatingController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,yEAAiD;AAEjD,2EAAmD;AACnD,qCAAiC;AAEjC,MAAM,gBAAgB,GAAG;IACzB,gCAAgC;IAC9B,MAAM,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;QAC5C,IAAI;YACF,MAAM,EAAE,GAAa,IAAI,kBAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACjD,wBAAwB;YACxB,MAAM,WAAW,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,EAAE;gBAChB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,kBAAkB,EAAE,iBAAiB;iBAC/C,CAAC,CAAC;aACJ;YAED,mBAAmB;YACnB,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAE1B,gBAAgB;YAChB,IAAI,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE;gBAC3D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,yCAAyC;iBACnD,CAAC,CAAC;aACJ;YAED,MAAM,MAAM,GAAG;gBACb,QAAQ,EAAE,EAAE;gBACZ,IAAI;aACL,CAAC;YAEF,8BAA8B;YAC9B,MAAM,KAAK,GAAG,MAAM,gBAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,CAAC,KAAK,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,wBAAwB;iBAClC,CAAC,CAAC;aACJ;YAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,IAAI;gBACb,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;YAChB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,sCAAsC;aAChD,CAAC,CAAC;SACJ;IACH,CAAC,CAAA;CACF,CAAC;AAEF,kBAAe,gBAAgB,CAAC","sourcesContent":["import Rating from '../database/services/rating';\nimport {Request, Response} from 'express';\nimport Recipes from '../database/services/recipes';\nimport {ObjectId} from 'mongodb';\n\nconst RatingController = {\n// Create and Save a new Recipes\n  create: async (req: Request, res: Response) => {\n    try {\n      const id: ObjectId = new ObjectId(req.params.id);\n      // check if recipe exist\n      const recipeExist = await Recipes.fetchById(id);\n      if (!recipeExist) {\n        return res.status(400).send({\n          success: false,\n          message: `Recipe with id ${id} does not exist`,\n        });\n      }\n\n      // define variables\n      const { rate } = req.body;\n\n      // validate Rate\n      if ((typeof rate !== 'number') || (rate <= 0) || (rate > 5)) {\n        return res.status(400).send({\n          success: false,\n          message: 'Rate should be a number between 1 and 5',\n        });\n      }\n\n      const rating = {\n        recipeId: id,\n        rate,\n      };\n\n      // Save rating in the database\n      const rates = await Rating.saveRating(rating);\n      if (!rates) {\n        return res.status(400).send({\n          success: false,\n          message: 'Failed to save rating!',\n        });\n      }\n\n      return res.status(201).send({\n        success: true,\n        data: rates,\n      });\n    } catch (err) {\n      console.log(err)\n      return res.status(500).send({\n        success: false,\n        message: 'An error occured while saving rating',\n      });\n    }\n  },\n};\n\nexport default RatingController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26925afe6808b8bf57266d545b055a44f887d6ae","contentHash":"ea2df4d5a1ce7ea2fe83ffa2f2bc3867ef02c34ef2d815d2cc7c4f4a90a9db5b"}}